<h1>Employee CRUD Operations</h1>

<div class="row">
    <div class="col-md-6">
        <div class="d-grid gap-2 m-3">
            <button class="btn btn-primary btn-lg" (click)="Add()">Add New</button>
        </div>


        <form #empForm="ngForm" novalidate (ngSubmit)="onSubmit()">
        

            <div class="alert alert-danger" *ngIf="errorMsg">
                {{errorMsg}}
            </div>

           <div class="alert alert-warning ">
               {{employee | json}}
           </div>
  
            <div class="form-group">
                <label>Employee Id</label>
                <input type="text" #Id="ngModel" [(ngModel)] = "employee.id" name="Id" id="Id" class="form-control">
            </div>
            <div class="form-group mt-3">
                <label>Employee Name</label>
                <input type="text" #Name="ngModel" [(ngModel)] = "employee.name" required name="Name" id="Name" class="form-control">

                <small class="text-danger" *ngIf="Name.invalid" > Employee Name is Required !!</small>

            </div>
            <div class="form-group mt-3">
                <label>Employee Address</label>
                <input type="text" #Address="ngModel" [(ngModel)] = "employee.address" name="Address" id="Address" class="form-control">
            </div>
            <div class="d-grid gap-2 mt-3">
                <button [disabled]="!empForm.form.valid" class="btn btn-primary btn-block  btn-lg " type="submit">{{operationTitle}}</button>
            </div>

        </form>  

    </div>
    <div class="col-md-6">
        List of Employees
         <!-- <button (click)="getAllEmp()">get all emps</button>   -->

        <table class="table">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Address</th>
                    <th>..</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let emp of lstEmps">
                    <td>{{ emp.id }}</td>
                    <td>{{ emp.name }}</td>
                    <td>{{ emp.address }}</td>
                    <td>
                        <button class="btn btn-info btn-sm" (click)="Edit(emp)">Edit</button>
                        <button class="btn btn-danger btn-sm" (click)="Delete(emp.id)">X</button>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>
</div>

